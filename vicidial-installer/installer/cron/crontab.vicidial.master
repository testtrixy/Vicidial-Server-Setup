# =============================================================================
# Vicidial Master Crontab (EL9 / Asterisk 18)
# Location: /etc/cron.d/vicidial
# =============================================================================

SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
MAILTO=""

# -----------------------------------------------------------------------------
# CORE ENGINE (HEARTBEAT)
# -----------------------------------------------------------------------------
* * * * * root /usr/bin/perl /usr/share/astguiclient/ADMIN_keepalive_ALL.pl --quiet
* * * * * root /usr/bin/perl /usr/share/astguiclient/AST_manager_send.pl --quiet
* * * * * root /usr/bin/perl /usr/share/astguiclient/AST_update.pl --quiet

# -----------------------------------------------------------------------------
# DIALER LOGIC
# -----------------------------------------------------------------------------
* * * * * root /usr/bin/perl /usr/share/astguiclient/AST_VDhopper.pl --quiet
* * * * * root /usr/bin/perl /usr/share/astguiclient/AST_VDauto_dial.pl --quiet
* * * * * root /usr/bin/perl /usr/share/astguiclient/AST_VDcallback.pl --quiet

# -----------------------------------------------------------------------------
# AUDIO PROCESSING (CRITICAL)
# -----------------------------------------------------------------------------
# Mix recordings and move to DONE
* * * * * root /usr/bin/perl /usr/share/astguiclient/AST_CRON_audio_1_move_mix.pl --quiet

# Compress WAV â†’ MP3/GSM
* * * * * root /usr/bin/perl /usr/share/astguiclient/AST_CRON_audio_2_compress.pl --quiet

# Optional offload (only enable if configured)
# * * * * * root /usr/bin/perl /usr/share/astguiclient/AST_CRON_audio_3_ftp.pl --quiet

# -----------------------------------------------------------------------------
# MAINTENANCE
# -----------------------------------------------------------------------------
*/5 * * * * root /usr/bin/perl /usr/share/astguiclient/AST_timeclock_auto_logout.pl
2 1 * * * root /usr/bin/perl /usr/share/astguiclient/AST_cleanup_agent_log.pl
5 1 * * * root /usr/bin/perl /usr/share/astguiclient/AST_cleanup_log_tables.pl
10 1 * * * root /usr/bin/perl /usr/share/astguiclient/ADMIN_archive_log_tables.pl --daily
